<?xml version="1.0" encoding="ASCII"?>
<bmethod:BSpec xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bmethod="http://fr.liglab.vasco/b4msecure/2.0/models/bmethod" xmlns:ctm.trace="http://fr.liglab.vasco/b4msecure/2.0/models/ctm/trace" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" systemMachine="//@machines.0">
  <eAnnotations source="http://fr.liglab.vasco/b4msecure/2.0/transformation/metadata">
    <details key="date" value="Monday, May 17, 2021, 3:13 PM"/>
    <details key="options" value="&lt;null>[use fully qualified names,inline role definitions]"/>
    <contents xsi:type="ecore:EAnnotation" source="transformation/configuration">
      <references href="http://fr.liglab.vasco/b4msecure/2.0/transformation/functional/B4MSecure.transformationconfig#B4MSecureConfiguration"/>
    </contents>
    <contents xsi:type="ecore:EAnnotation" source="transformation/trace" references="//%meeduse%/%trace%/@contents.0"/>
  </eAnnotations>
  <eAnnotations source="meeduse">
    <details key="options" value="protected.sections=invariant,operations;definitions.external=false"/>
    <contents xsi:type="ecore:EAnnotation" source="trace">
      <contents xsi:type="ctm.trace:TransformationTrace">
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.1" source="//%meeduse%/%trace%/@contents.0/@references.0" rule="fr.lig.vasco.becore.BEcoreTransformation#toMachine"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.3" source="//%meeduse%/%trace%/@contents.0/@references.2" rule="fr.lig.vasco.becore.BEcoreTransformation#toSet"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.3" source="//%meeduse%/%trace%/@contents.0/@references.4" rule="fr.lig.vasco.becore.BEcoreTransformation#toSet"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.3" source="//%meeduse%/%trace%/@contents.0/@references.5" rule="fr.lig.vasco.becore.BEcoreTransformation#toSet"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.3" source="//%meeduse%/%trace%/@contents.0/@references.6" rule="fr.lig.vasco.becore.BEcoreTransformation#toSet"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.3" source="//%meeduse%/%trace%/@contents.0/@references.7" rule="fr.lig.vasco.becore.BEcoreTransformation#toSet"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.3" source="//%meeduse%/%trace%/@contents.0/@references.8" rule="fr.lig.vasco.becore.BEcoreTransformation#toSet"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.3" source="//%meeduse%/%trace%/@contents.0/@references.9" rule="fr.lig.vasco.becore.BEcoreTransformation#toSet"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.3" source="//%meeduse%/%trace%/@contents.0/@references.10" rule="fr.lig.vasco.becore.BEcoreTransformation#toSet"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.12" source="//%meeduse%/%trace%/@contents.0/@references.11" rule="fr.lig.vasco.becore.BEcoreTransformation#toSet"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.13" source="//%meeduse%/%trace%/@contents.0/@references.5" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.14" source="//%meeduse%/%trace%/@contents.0/@references.7" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.15" source="//%meeduse%/%trace%/@contents.0/@references.4" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.16" source="//%meeduse%/%trace%/@contents.0/@references.11" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.17" source="//%meeduse%/%trace%/@contents.0/@references.10" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.18" source="//%meeduse%/%trace%/@contents.0/@references.2" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.19" source="//%meeduse%/%trace%/@contents.0/@references.6" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.20" source="//%meeduse%/%trace%/@contents.0/@references.9" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.21" source="//%meeduse%/%trace%/@contents.0/@references.8" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.23" source="//%meeduse%/%trace%/@contents.0/@references.22" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.23" source="//%meeduse%/%trace%/@contents.0/@references.24" rule="fr.lig.vasco.becore.BEcoreTransformation#toInverseVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.26" source="//%meeduse%/%trace%/@contents.0/@references.25" rule="fr.lig.vasco.becore.BEcoreTransformation#toVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.26" source="//%meeduse%/%trace%/@contents.0/@references.27" rule="fr.lig.vasco.becore.BEcoreTransformation#toInverseVariable"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.28" source="//%meeduse%/%trace%/@contents.0/@references.5" rule="fr.lig.vasco.becore.BEcoreTransformation#toConstructor"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.29" source="//%meeduse%/%trace%/@contents.0/@references.10" rule="fr.lig.vasco.becore.BEcoreTransformation#toConstructor"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.30" source="//%meeduse%/%trace%/@contents.0/@references.2" rule="fr.lig.vasco.becore.BEcoreTransformation#toConstructor"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.31" source="//%meeduse%/%trace%/@contents.0/@references.5" rule="fr.lig.vasco.becore.BEcoreTransformation#toDestructor"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.32" source="//%meeduse%/%trace%/@contents.0/@references.10" rule="fr.lig.vasco.becore.BEcoreTransformation#toDestructor"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.33" source="//%meeduse%/%trace%/@contents.0/@references.2" rule="fr.lig.vasco.becore.BEcoreTransformation#toDestructor"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.34" source="//%meeduse%/%trace%/@contents.0/@references.22" rule="fr.lig.vasco.becore.BEcoreTransformation#toGetter"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.35" source="//%meeduse%/%trace%/@contents.0/@references.24" rule="fr.lig.vasco.becore.BEcoreTransformation#toGetter"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.36" source="//%meeduse%/%trace%/@contents.0/@references.27" rule="fr.lig.vasco.becore.BEcoreTransformation#toGetter"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.37" source="//%meeduse%/%trace%/@contents.0/@references.25" rule="fr.lig.vasco.becore.BEcoreTransformation#toGetter"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.38" source="//%meeduse%/%trace%/@contents.0/@references.22" rule="fr.lig.vasco.becore.BEcoreTransformation#toSetters"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.39 //%meeduse%/%trace%/@contents.0/@references.40 //%meeduse%/%trace%/@contents.0/@references.41 //%meeduse%/%trace%/@contents.0/@references.42" source="//%meeduse%/%trace%/@contents.0/@references.24" rule="fr.lig.vasco.becore.BEcoreTransformation#toSetters"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.43 //%meeduse%/%trace%/@contents.0/@references.44 //%meeduse%/%trace%/@contents.0/@references.45 //%meeduse%/%trace%/@contents.0/@references.46" source="//%meeduse%/%trace%/@contents.0/@references.27" rule="fr.lig.vasco.becore.BEcoreTransformation#toSetters"/>
        <maps targets="//%meeduse%/%trace%/@contents.0/@references.47" source="//%meeduse%/%trace%/@contents.0/@references.25" rule="fr.lig.vasco.becore.BEcoreTransformation#toSetters"/>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.0">
          <object href="PNMLCoreModel.ecore#/"/>
        </references>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.0" object="//@machines.0"/>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.1 //%meeduse%/%trace%/@contents.0/@maps.15 //%meeduse%/%trace%/@contents.0/@maps.25 //%meeduse%/%trace%/@contents.0/@maps.28">
          <object href="PNMLCoreModel.ecore#//Place"/>
        </references>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.1 //%meeduse%/%trace%/@contents.0/@maps.2 //%meeduse%/%trace%/@contents.0/@maps.3 //%meeduse%/%trace%/@contents.0/@maps.4 //%meeduse%/%trace%/@contents.0/@maps.5 //%meeduse%/%trace%/@contents.0/@maps.6 //%meeduse%/%trace%/@contents.0/@maps.7 //%meeduse%/%trace%/@contents.0/@maps.8" object="//@machines.0/@data.0"/>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.2 //%meeduse%/%trace%/@contents.0/@maps.12">
          <object href="PNMLCoreModel.ecore#//ID"/>
        </references>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.3 //%meeduse%/%trace%/@contents.0/@maps.10 //%meeduse%/%trace%/@contents.0/@maps.23 //%meeduse%/%trace%/@contents.0/@maps.26">
          <object href="PNMLCoreModel.ecore#//Arc"/>
        </references>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.4 //%meeduse%/%trace%/@contents.0/@maps.16">
          <object href="PNMLCoreModel.ecore#//Object"/>
        </references>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.5 //%meeduse%/%trace%/@contents.0/@maps.11">
          <object href="PNMLCoreModel.ecore#//PlaceNode"/>
        </references>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.6 //%meeduse%/%trace%/@contents.0/@maps.18">
          <object href="PNMLCoreModel.ecore#//Node"/>
        </references>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.7 //%meeduse%/%trace%/@contents.0/@maps.17">
          <object href="PNMLCoreModel.ecore#//TransitionNode"/>
        </references>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.8 //%meeduse%/%trace%/@contents.0/@maps.14 //%meeduse%/%trace%/@contents.0/@maps.24 //%meeduse%/%trace%/@contents.0/@maps.27">
          <object href="PNMLCoreModel.ecore#//Transition"/>
        </references>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.9 //%meeduse%/%trace%/@contents.0/@maps.13">
          <object href="PNMLCoreModel.ecore#//Label"/>
        </references>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.9" object="//@machines.0/@data.1"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.10" object="//@machines.0/@data.6"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.11" object="//@machines.0/@data.7"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.12" object="//@machines.0/@data.2"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.13" object="//@machines.0/@data.3"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.14" object="//@machines.0/@data.10"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.15" object="//@machines.0/@data.9"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.16" object="//@machines.0/@data.4"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.17" object="//@machines.0/@data.8"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.18" object="//@machines.0/@data.5"/>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.19 //%meeduse%/%trace%/@contents.0/@maps.29 //%meeduse%/%trace%/@contents.0/@maps.33">
          <object href="PNMLCoreModel.ecore#//Arc/target"/>
        </references>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.19 //%meeduse%/%trace%/@contents.0/@maps.20" object="//@machines.0/@data.12"/>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.20 //%meeduse%/%trace%/@contents.0/@maps.30 //%meeduse%/%trace%/@contents.0/@maps.34">
          <object href="PNMLCoreModel.ecore#//Node/in"/>
        </references>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.21 //%meeduse%/%trace%/@contents.0/@maps.32 //%meeduse%/%trace%/@contents.0/@maps.36">
          <object href="PNMLCoreModel.ecore#//Arc/source"/>
        </references>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.21 //%meeduse%/%trace%/@contents.0/@maps.22" object="//@machines.0/@data.11"/>
        <references outgoing="//%meeduse%/%trace%/@contents.0/@maps.22 //%meeduse%/%trace%/@contents.0/@maps.31 //%meeduse%/%trace%/@contents.0/@maps.35">
          <object href="PNMLCoreModel.ecore#//Node/out"/>
        </references>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.23" object="//@machines.0/@operations.0"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.24" object="//@machines.0/@operations.2"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.25" object="//@machines.0/@operations.1"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.26" object="//@machines.0/@operations.3"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.27" object="//@machines.0/@operations.5"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.28" object="//@machines.0/@operations.4"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.29" object="//@machines.0/@operations.9"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.30" object="//@machines.0/@operations.7"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.31" object="//@machines.0/@operations.6"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.32" object="//@machines.0/@operations.8"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.33" object="//@machines.0/@operations.13"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.34" object="//@machines.0/@operations.11"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.34" object="//@machines.0/@operations.19"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.34" object="//@machines.0/@operations.17"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.34" object="//@machines.0/@operations.15"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.35" object="//@machines.0/@operations.14"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.35" object="//@machines.0/@operations.16"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.35" object="//@machines.0/@operations.18"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.35" object="//@machines.0/@operations.10"/>
        <references incoming="//%meeduse%/%trace%/@contents.0/@maps.36" object="//@machines.0/@operations.12"/>
      </contents>
    </contents>
  </eAnnotations>
  <machines name="pnmlcoremodel">
    <data xsi:type="bmethod:BAbstractSet" name="ID_AS" typing="//@machines.0/@operations.0/@param.0 //@machines.0/@operations.1/@param.0 //@machines.0/@operations.2/@param.0"/>
    <data xsi:type="bmethod:BAbstractSet" name="LABEL"/>
    <data xsi:type="bmethod:BVariable" name="ID" type="//@sharedTypes.1" typing="//@machines.0/@data.4">
      <typingPredicate operator="In" type="//@sharedTypes.1"/>
    </data>
    <data xsi:type="bmethod:BVariable" name="Label" type="//@sharedTypes.3">
      <typingPredicate operator="In" type="//@sharedTypes.3"/>
    </data>
    <data xsi:type="bmethod:BVariable" name="Object" type="//@machines.0/@data.2" typing="//@machines.0/@data.5 //@machines.0/@data.6">
      <typingPredicate type="//@machines.0/@data.2"/>
    </data>
    <data xsi:type="bmethod:BVariable" name="Node" type="//@machines.0/@data.4" typing="//@machines.0/@data.7 //@machines.0/@data.8 //@machines.0/@operations.0/@param.1 //@machines.0/@operations.0/@param.2 //@machines.0/@operations.6/@param.0 //@machines.0/@operations.7/@param.0 //@machines.0/@operations.10/@param.0 //@machines.0/@operations.11/@param.0 //@machines.0/@operations.12/@param.1 //@machines.0/@operations.13/@param.1 //@machines.0/@operations.14/@param.0 //@machines.0/@operations.15/@param.0 //@machines.0/@operations.16/@param.0 //@machines.0/@operations.17/@param.0 //@machines.0/@operations.18/@param.0 //@machines.0/@operations.19/@param.0">
      <typingPredicate type="//@machines.0/@data.4"/>
    </data>
    <data xsi:type="bmethod:BVariable" name="Arc" type="//@machines.0/@data.4" typing="//@machines.0/@operations.3/@param.0 //@machines.0/@operations.8/@param.0 //@machines.0/@operations.9/@param.0 //@machines.0/@operations.12/@param.0 //@machines.0/@operations.13/@param.0 //@machines.0/@operations.16/@param.1 //@machines.0/@operations.17/@param.1 //@machines.0/@operations.18/@param.1 //@machines.0/@operations.19/@param.1">
      <typingPredicate type="//@machines.0/@data.4"/>
    </data>
    <data xsi:type="bmethod:BVariable" name="PlaceNode" type="//@machines.0/@data.5" typing="//@machines.0/@data.9">
      <typingPredicate type="//@machines.0/@data.5"/>
    </data>
    <data xsi:type="bmethod:BVariable" name="TransitionNode" type="//@machines.0/@data.5" typing="//@machines.0/@data.10">
      <typingPredicate type="//@machines.0/@data.5"/>
    </data>
    <data xsi:type="bmethod:BVariable" name="Place" type="//@machines.0/@data.7" typing="//@machines.0/@operations.4/@param.0">
      <typingPredicate type="//@machines.0/@data.7"/>
    </data>
    <data xsi:type="bmethod:BVariable" name="Transition" type="//@machines.0/@data.8" typing="//@machines.0/@operations.5/@param.0">
      <typingPredicate type="//@machines.0/@data.8"/>
    </data>
    <data xsi:type="bmethod:BVariable" name="out" type="//@sharedTypes.4">
      <typingPredicate operator="In" type="//@sharedTypes.4"/>
    </data>
    <data xsi:type="bmethod:BVariable" name="in" type="//@sharedTypes.5">
      <typingPredicate operator="In" type="//@sharedTypes.5"/>
    </data>
    <invariant body="Arc /\ Node = {}"/>
    <invariant body="PlaceNode /\ TransitionNode = {}"/>
    <operations name="Arc_NEW">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.6">
            <value name="Arc \/ {aArc}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.2">
            <value name="ID \/ {aArc}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.4">
            <value name="Object \/ {aArc}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.11">
            <value name="out \/ {(aArc |-> aSource)}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.12">
            <value name="in \/ {(aArc |-> aTarget)}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="aArc /: ID"/>
        </precondition>
      </substitution>
      <param name="aArc" type="//@machines.0/@data.0">
        <typingPredicate operator="In" type="//@machines.0/@data.0"/>
      </param>
      <param name="aSource" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
      <param name="aTarget" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
    </operations>
    <operations name="Place_NEW">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.9">
            <value name="Place \/ {aPlace}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.2">
            <value name="ID \/ {aPlace}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.4">
            <value name="Object \/ {aPlace}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.7">
            <value name="PlaceNode \/ {aPlace}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.5">
            <value name="Node \/ {aPlace}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="aPlace /: ID"/>
        </precondition>
      </substitution>
      <param name="aPlace" type="//@machines.0/@data.0">
        <typingPredicate operator="In" type="//@machines.0/@data.0"/>
      </param>
    </operations>
    <operations name="Transition_NEW">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.10">
            <value name="Transition \/ {aTransition}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.2">
            <value name="ID \/ {aTransition}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.4">
            <value name="Object \/ {aTransition}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.5">
            <value name="Node \/ {aTransition}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.8">
            <value name="TransitionNode \/ {aTransition}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="aTransition /: ID"/>
        </precondition>
      </substitution>
      <param name="aTransition" type="//@machines.0/@data.0">
        <typingPredicate operator="In" type="//@machines.0/@data.0"/>
      </param>
    </operations>
    <operations name="Arc_Free">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.6">
            <value name="Arc - {aArc}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.2">
            <value name="ID - {aArc}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.4">
            <value name="Object - {aArc}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.11">
            <value name="{aArc} &lt;&lt;| out"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.12">
            <value name="{aArc} &lt;&lt;| in"/>
          </expression>
        </substitution>
      </substitution>
      <param name="aArc" type="//@machines.0/@data.6">
        <typingPredicate operator="In" type="//@machines.0/@data.6"/>
      </param>
    </operations>
    <operations name="Place_Free">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.9">
            <value name="Place - {aPlace}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.2">
            <value name="ID - {aPlace}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.4">
            <value name="Object - {aPlace}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.7">
            <value name="PlaceNode - {aPlace}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.5">
            <value name="Node - {aPlace}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.11">
            <value name="out |>> {aPlace}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.12">
            <value name="in |>> {aPlace}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="out~[{aPlace}] = {}"/>
          <typingPredicate body="in~[{aPlace}] = {}"/>
        </precondition>
      </substitution>
      <param name="aPlace" type="//@machines.0/@data.9">
        <typingPredicate operator="In" type="//@machines.0/@data.9"/>
      </param>
    </operations>
    <operations name="Transition_Free">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.10">
            <value name="Transition - {aTransition}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.2">
            <value name="ID - {aTransition}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.4">
            <value name="Object - {aTransition}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.5">
            <value name="Node - {aTransition}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.8">
            <value name="TransitionNode - {aTransition}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.11">
            <value name="out |>> {aTransition}"/>
          </expression>
        </substitution>
        <substitution>
          <expression data="//@machines.0/@data.12">
            <value name="in |>> {aTransition}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="out~[{aTransition}] = {}"/>
          <typingPredicate body="in~[{aTransition}] = {}"/>
        </precondition>
      </substitution>
      <param name="aTransition" type="//@machines.0/@data.10">
        <typingPredicate operator="In" type="//@machines.0/@data.10"/>
      </param>
    </operations>
    <operations name="Node_GetOut">
      <substitution>
        <substitution>
          <expression>
            <value name="result := out~[{aNode}]"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="aNode : ran(out)"/>
        </precondition>
      </substitution>
      <param name="aNode" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
    </operations>
    <operations name="Node_GetIn">
      <substitution>
        <substitution>
          <expression>
            <value name="result := in~[{aNode}]"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="aNode : ran(in)"/>
        </precondition>
      </substitution>
      <param name="aNode" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
    </operations>
    <operations name="Arc_GetSource">
      <substitution>
        <substitution>
          <expression>
            <value name="result := out(aArc)"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="aArc : dom(out)"/>
        </precondition>
      </substitution>
      <param name="aArc" type="//@machines.0/@data.6">
        <typingPredicate operator="In" type="//@machines.0/@data.6"/>
      </param>
    </operations>
    <operations name="Arc_GetTarget">
      <substitution>
        <substitution>
          <expression>
            <value name="result := in(aArc)"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="aArc : dom(in)"/>
        </precondition>
      </substitution>
      <param name="aArc" type="//@machines.0/@data.6">
        <typingPredicate operator="In" type="//@machines.0/@data.6"/>
      </param>
    </operations>
    <operations name="Node_SetOut">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.11">
            <value name="(out |>> {aNode}) \/ (theOut * {aNode})"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="(theOut * {aNode}) /&lt;: out"/>
          <typingPredicate body="out~[{aNode}] = {}"/>
          <typingPredicate body="!added.( added : theOut => out[{added}] = {})"/>
        </precondition>
      </substitution>
      <param name="aNode" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
      <param name="theOut" type="//@sharedTypes.7">
        <typingPredicate operator="In" type="//@sharedTypes.7"/>
      </param>
    </operations>
    <operations name="Node_SetIn">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.12">
            <value name="(in |>> {aNode}) \/ (theIn * {aNode})"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="(theIn * {aNode}) /&lt;: in"/>
          <typingPredicate body="in~[{aNode}] = {}"/>
          <typingPredicate body="!added.( added : theIn => in[{added}] = {})"/>
        </precondition>
      </substitution>
      <param name="aNode" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
      <param name="theIn" type="//@sharedTypes.7">
        <typingPredicate operator="In" type="//@sharedTypes.7"/>
      </param>
    </operations>
    <operations name="Arc_SetSource">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.11">
            <value name="({aArc} &lt;&lt;| out) \/ {(aArc |-> aSource)}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="{(aArc |-> aSource)} /&lt;: out"/>
        </precondition>
      </substitution>
      <param name="aArc" type="//@machines.0/@data.6">
        <typingPredicate operator="In" type="//@machines.0/@data.6"/>
      </param>
      <param name="aSource" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
    </operations>
    <operations name="Arc_SetTarget">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.12">
            <value name="({aArc} &lt;&lt;| in) \/ {(aArc |-> aTarget)}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="{(aArc |-> aTarget)} /&lt;: in"/>
        </precondition>
      </substitution>
      <param name="aArc" type="//@machines.0/@data.6">
        <typingPredicate operator="In" type="//@machines.0/@data.6"/>
      </param>
      <param name="aTarget" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
    </operations>
    <operations name="Node_UnsetOut">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.11">
            <value name="out |>> {aNode}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="out~[{aNode}] = {}"/>
        </precondition>
      </substitution>
      <param name="aNode" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
    </operations>
    <operations name="Node_UnsetIn">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.12">
            <value name="in |>> {aNode}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="in~[{aNode}] = {}"/>
        </precondition>
      </substitution>
      <param name="aNode" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
    </operations>
    <operations name="Node_AddOut">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.11">
            <value name="out \/ {(aOut |-> aNode)}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="(aOut |-> aNode) /: out"/>
          <typingPredicate body="out[{aOut}] = {}"/>
        </precondition>
      </substitution>
      <param name="aNode" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
      <param name="aOut" type="//@machines.0/@data.6">
        <typingPredicate operator="In" type="//@machines.0/@data.6"/>
      </param>
    </operations>
    <operations name="Node_AddIn">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.12">
            <value name="in \/ {(aIn |-> aNode)}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="(aIn |-> aNode) /: in"/>
          <typingPredicate body="in[{aIn}] = {}"/>
        </precondition>
      </substitution>
      <param name="aNode" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
      <param name="aIn" type="//@machines.0/@data.6">
        <typingPredicate operator="In" type="//@machines.0/@data.6"/>
      </param>
    </operations>
    <operations name="Node_RemoveOut">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.11">
            <value name="out - {(aOut |-> aNode)}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="(aOut |-> aNode) : out"/>
          <typingPredicate body="card(out[{aOut}]) >= 2"/>
        </precondition>
      </substitution>
      <param name="aNode" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
      <param name="aOut" type="//@machines.0/@data.6">
        <typingPredicate operator="In" type="//@machines.0/@data.6"/>
      </param>
    </operations>
    <operations name="Node_RemoveIn">
      <substitution>
        <substitution>
          <expression data="//@machines.0/@data.12">
            <value name="in - {(aIn |-> aNode)}"/>
          </expression>
        </substitution>
        <precondition>
          <typingPredicate body="(aIn |-> aNode) : in"/>
          <typingPredicate body="card(in[{aIn}]) >= 2"/>
        </precondition>
      </substitution>
      <param name="aNode" type="//@machines.0/@data.5">
        <typingPredicate operator="In" type="//@machines.0/@data.5"/>
      </param>
      <param name="aIn" type="//@machines.0/@data.6">
        <typingPredicate operator="In" type="//@machines.0/@data.6"/>
      </param>
    </operations>
    <initialisation init="//@machines.0/@data.2"/>
    <initialisation init="//@machines.0/@data.3"/>
    <initialisation init="//@machines.0/@data.4"/>
    <initialisation init="//@machines.0/@data.5"/>
    <initialisation init="//@machines.0/@data.6"/>
    <initialisation init="//@machines.0/@data.7"/>
    <initialisation init="//@machines.0/@data.8"/>
    <initialisation init="//@machines.0/@data.9"/>
    <initialisation init="//@machines.0/@data.10"/>
    <initialisation init="//@machines.0/@data.11"/>
    <initialisation init="//@machines.0/@data.12"/>
  </machines>
  <sharedTypes xsi:type="bmethod:BPowType" base="//@machines.0/@data.0"/>
  <sharedTypes xsi:type="bmethod:BPowType" typing="//@machines.0/@data.2" base="//@machines.0/@data.0" finite="true"/>
  <sharedTypes xsi:type="bmethod:BPowType" base="//@machines.0/@data.1"/>
  <sharedTypes xsi:type="bmethod:BPowType" typing="//@machines.0/@data.3" base="//@machines.0/@data.1" finite="true"/>
  <sharedTypes xsi:type="bmethod:BComposedType" typing="//@machines.0/@data.11" expression="TotalFunction" dom="//@machines.0/@data.6" ran="//@machines.0/@data.5"/>
  <sharedTypes xsi:type="bmethod:BComposedType" typing="//@machines.0/@data.12" expression="TotalFunction" dom="//@machines.0/@data.6" ran="//@machines.0/@data.5"/>
  <sharedTypes xsi:type="bmethod:BPowType" base="//@machines.0/@data.6"/>
  <sharedTypes xsi:type="bmethod:BPowType" typing="//@machines.0/@operations.10/@param.1 //@machines.0/@operations.11/@param.1" base="//@machines.0/@data.6" finite="true"/>
</bmethod:BSpec>
